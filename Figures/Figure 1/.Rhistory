RedSea + tm_compass(type = "8star", position = c("left", "top"), size = 2) + # Add a compass rose
tm_scale_bar(breaks = c(0, 25, 50), text.size = 1, position = c(0.4, 0.02)) + # Add a scale bar
tm_graticules(projection = "longlat", lines = FALSE) #Add the lat/lon axes
(ning.tm <- tm_shape(world_asia) + #Load the coastline shape element
tm_compass(type = "8star", position = c("left", "top"), size = 2) + # Add a compass rose
tm_scale_bar(breaks = c(0, 25, 50), text.size = 1, position = c(0.4, 0.02)) + # Add a scale bar
tm_graticules(projection = "longlat", lines = FALSE) #Add the lat/lon axes
)
(ning.tm <- tm_shape(world_asia) + #Load the coastline shape element
tm_polygons() + # Hide the legend for the coast fill
tm_compass(type = "8star", position = c("left", "top"), size = 2) + # Add a compass rose
tm_scale_bar(breaks = c(0, 25, 50), text.size = 1, position = c(0.4, 0.02)) + # Add a scale bar
tm_graticules(projection = "longlat", lines = FALSE) #Add the lat/lon axes
)
(ning.tm <- tm_shape(Israel) + #Load the coastline shape element
tm_polygons() + # Hide the legend for the coast fill
tm_compass(type = "8star", position = c("left", "top"), size = 2) + # Add a compass rose
tm_scale_bar(breaks = c(0, 25, 50), text.size = 1, position = c(0.4, 0.02)) + # Add a scale bar
tm_graticules(projection = "longlat", lines = FALSE) #Add the lat/lon axes
)
RedSea <- tm_shape(Israel) + #Load the coastline shape element
tm_polygons() + # Hide the legend for the coast fill
tm_compass(type = "8star", position = c("left", "top"), size = 2) + # Add a compass rose
tm_scale_bar(breaks = c(0, 25, 50), text.size = 1, position = c(0.4, 0.02)) + # Add a scale bar
tm_graticules(projection = "longlat", lines = FALSE) #Add the lat/lon axes
library(tmap)
library(tmap)
tmap_mode("plot") # Change the view mode to 'plot' rather than 'view'
world_asia = world[world$continent == "Asia", ]
world_africa = world[world$continent == "Africa", ]
Israel = world[world$name_long == "Israel", ]
RedSea<-plot(st_geometry(Israel), expandBB = c(1.5, 1.5, 1.5, 1.5), col = "gray", lwd = 3) +
plot(world_asia[0], add = TRUE) + plot(world_africa[0], add = TRUE)
RedSea <- tm_shape(Israel) + #Load the coastline shape element
tm_polygons() + # Hide the legend for the coast fill
tm_compass(type = "8star", position = c("left", "top"), size = 2) + # Add a compass rose
tm_scale_bar(breaks = c(0, 25, 50), text.size = 1, position = c(0.4, 0.02)) + # Add a scale bar
tm_graticules(projection = "longlat", lines = FALSE) #Add the lat/lon axes
tm_shape(Israel) + #Load the coastline shape element
tm_polygons() + # Hide the legend for the coast fill
tm_compass(type = "8star", position = c("left", "top"), size = 2) + # Add a compass rose
tm_scale_bar(breaks = c(0, 25, 50), text.size = 1, position = c(0.4, 0.02)) + # Add a scale bar
tm_graticules(projection = "longlat", lines = FALSE) #Add the lat/lon axes
RedSea <- tm_shape(Israel) + #Load the coastline shape element
tm_polygons() + # Hide the legend for the coast fill
tm_compass(type = "8star", position = c("left", "top"), size = 2) + # Add a compass rose
tm_scale_bar(breaks = c(0, 25, 50), text.size = 1, position = c(0.4, 0.02)) + # Add a scale bar
tm_graticules(projection = "longlat", lines = FALSE) #Add the lat/lon axes
RedSea <- tm_shape(Israel) + #Load the coastline shape element
tm_polygons(world_asia) + # Hide the legend for the coast fill
tm_compass(type = "8star", position = c("left", "top"), size = 2) + # Add a compass rose
tm_scale_bar(breaks = c(0, 25, 50), text.size = 1, position = c(0.4, 0.02)) + # Add a scale bar
tm_graticules(projection = "longlat", lines = FALSE) #Add the lat/lon axes
View(Israel)
RedSea <- tm_shape(world_africa) + #Load the coastline shape element
tm_polygons(world_asia) + # Hide the legend for the coast fill
tm_compass(type = "8star", position = c("left", "top"), size = 2) + # Add a compass rose
tm_scale_bar(breaks = c(0, 25, 50), text.size = 1, position = c(0.4, 0.02)) + # Add a scale bar
tm_graticules(projection = "longlat", lines = FALSE) #Add the lat/lon axes
tm_shape(world_africa) + #Load the coastline shape element
tm_polygons(world_asia) + # Hide the legend for the coast fill
tm_compass(type = "8star", position = c("left", "top"), size = 2) + # Add a compass rose
tm_scale_bar(breaks = c(0, 25, 50), text.size = 1, position = c(0.4, 0.02)) + # Add a scale bar
tm_graticules(projection = "longlat", lines = FALSE) #Add the lat/lon axes
tm_shape(Israel) + #Load the coastline shape element
tm_polygons(world_asia) + # Hide the legend for the coast fill
tm_compass(type = "8star", position = c("left", "top"), size = 2) + # Add a compass rose
tm_scale_bar(breaks = c(0, 25, 50), text.size = 1, position = c(0.4, 0.02)) + # Add a scale bar
tm_graticules(projection = "longlat", lines = FALSE) #Add the lat/lon axes
tm_shape(Israel) + #Load the coastline shape element
tm_polygons() + # Hide the legend for the coast fill
tm_compass(type = "8star", position = c("left", "top"), size = 2) + # Add a compass rose
tm_scale_bar(breaks = c(0, 25, 50), text.size = 1, position = c(0.4, 0.02)) + # Add a scale bar
tm_graticules(projection = "longlat", lines = FALSE) #Add the lat/lon axes
tm_shape(world_asia) + #Load the coastline shape element
tm_polygons() + # Hide the legend for the coast fill
tm_compass(type = "8star", position = c("left", "top"), size = 2) + # Add a compass rose
tm_scale_bar(breaks = c(0, 25, 50), text.size = 1, position = c(0.4, 0.02)) + # Add a scale bar
tm_graticules(projection = "longlat", lines = FALSE) #Add the lat/lon axes
View(world_asia)
View(world_africa)
world_middle_east <- rbind(world_asia, world_africa)
plot(st_geometry(Israel), expandBB = c(1.5, 1.5, 1.5, 1.5), col = "gray", lwd = 3) +
plot(world_middle_east[0], add = TRUE)
RedSea<-plot(st_geometry(Israel), expandBB = c(3, 3, 3, 3), col = "gray", lwd = 3) +
plot(world_middle_east[0], add = TRUE)
plot(st_geometry(Israel), expandBB = c(2, 3, 4, 3), col = "gray", lwd = 3) +
plot(world_middle_east[0], add = TRUE)
plot(st_geometry(Israel), expandBB = c(4, 3, 2, 3), col = "gray", lwd = 3) +
plot(world_middle_east[0], add = TRUE)
plot(st_geometry(Israel), expandBB = c(5, 3, 2, 3), col = "gray", lwd = 3) +
plot(world_middle_east[0], add = TRUE)
tm_shape(world_middle_east) + #Load the coastline shape element
tm_polygons() + # Hide the legend for the coast fill
tm_compass(type = "8star", position = c("left", "top"), size = 2) + # Add a compass rose
tm_scale_bar(breaks = c(0, 25, 50), text.size = 1, position = c(0.4, 0.02)) + # Add a scale bar
tm_graticules(projection = "longlat", lines = FALSE) #Add the lat/lon axes
View(world_middle_east)
asia = world[world$subregion == "Western Asia", ]
africa = world[world$subregion == "Eastern Africa", ]
middle_east <- rbind(world_asia, world_africa)
Israel = world[world$name_long == "Israel", ]
plot(st_geometry(Israel), expandBB = c(5, 3, 2, 3), col = "gray", lwd = 3) +
plot(middle_east[0], add = TRUE)
plot(st_geometry(Israel), expandBB = c(5, 3, 2, 3), col = "gray", lwd = 1) +
plot(middle_east[0], add = TRUE)
plot(st_geometry(Israel), expandBB = c(5, 3, 2, 3), col = "green", lwd = 1) +
plot(middle_east[0], add = TRUE)
plot(st_geometry(Israel), expandBB = c(5, 3, 2, 3), col = "darkgreen", lwd = 1) +
plot(middle_east[0], add = TRUE)
plot(st_geometry(Israel), expandBB = c(5, 3, 2, 3), col = "green3", lwd = 1) +
plot(middle_east[0], add = TRUE)
RedSea <- tm_shape(middle_east) + #Load the coastline shape element
tm_polygons() + # Hide the legend for the coast fill
tm_compass(type = "8star", position = c("left", "top"), size = 2) + # Add a compass rose
tm_scale_bar(breaks = c(0, 25, 50), text.size = 1, position = c(0.4, 0.02)) + # Add a scale bar
tm_graticules(projection = "longlat", lines = FALSE) #Add the lat/lon axes
tm_shape(middle_east) + #Load the coastline shape element
tm_polygons() + # Hide the legend for the coast fill
tm_compass(type = "8star", position = c("left", "top"), size = 2) + # Add a compass rose
tm_scale_bar(breaks = c(0, 25, 50), text.size = 1, position = c(0.4, 0.02)) + # Add a scale bar
tm_graticules(projection = "longlat", lines = FALSE) #Add the lat/lon axes
asia = world[world$subregion == "Western Asia", ]
africa = world[world$subregion == "Eastern Africa", ]
middle_east <- rbind(asia, africa)
tm_shape(middle_east) + #Load the coastline shape element
tm_polygons() + # Hide the legend for the coast fill
tm_compass(type = "8star", position = c("left", "top"), size = 2) + # Add a compass rose
tm_scale_bar(breaks = c(0, 25, 50), text.size = 1, position = c(0.4, 0.02)) + # Add a scale bar
tm_graticules(projection = "longlat", lines = FALSE) #Add the lat/lon axes
north.africa = world[world$subregion == "Northern Africa", ]
asia = world[world$subregion == "Western Asia", ]
east.africa = world[world$subregion == "Eastern Africa", ]
north.africa = world[world$subregion == "Northern Africa", ]
middle_east <- rbind(asia, east.africa,north.africa)
Israel = world[world$name_long == "Israel", ]
tm_shape(middle_east) + #Load the coastline shape element
tm_polygons() + # Hide the legend for the coast fill
tm_compass(type = "8star", position = c("left", "top"), size = 2) + # Add a compass rose
tm_scale_bar(breaks = c(0, 25, 50), text.size = 1, position = c(0.4, 0.02)) + # Add a scale bar
tm_graticules(projection = "longlat", lines = FALSE) #Add the lat/lon axes
middle_east <- rbind(asia,north.africa)
tm_shape(middle_east) + #Load the coastline shape element
tm_polygons() + # Hide the legend for the coast fill
tm_compass(type = "8star", position = c("left", "top"), size = 2) + # Add a compass rose
tm_scale_bar(breaks = c(0, 25, 50), text.size = 1, position = c(0.4, 0.02)) + # Add a scale bar
tm_graticules(projection = "longlat", lines = FALSE) #Add the lat/lon axes
africa = world[world$continent == "Africa", ]
middle_east <- rbind(asia, africa)
tm_shape(middle_east) + #Load the coastline shape element
tm_polygons() + # Hide the legend for the coast fill
tm_compass(type = "8star", position = c("left", "top"), size = 2) + # Add a compass rose
tm_scale_bar(breaks = c(0, 25, 50), text.size = 1, position = c(0.4, 0.02)) + # Add a scale bar
tm_graticules(projection = "longlat", lines = FALSE) #Add the lat/lon axes
View(middle_east)
tm_shape(middle_east) + #Load the coastline shape element
tm_polygons(tm_fill = Israel) + # Hide the legend for the coast fill
tm_compass(type = "8star", position = c("left", "top"), size = 2) + # Add a compass rose
tm_scale_bar(breaks = c(0, 25, 50), text.size = 1, position = c(0.4, 0.02)) + # Add a scale bar
tm_graticules(projection = "longlat", lines = FALSE) #Add the lat/lon axes
tm_shape(middle_east) + #Load the coastline shape element
tm_polygons(tm_fill = "Israel") +
tm_compass(type = "8star", position = c("left", "top"), size = 2) + # Add a compass rose
tm_scale_bar(breaks = c(0, 25, 50), text.size = 1, position = c(0.4, 0.02)) + # Add a scale bar
tm_graticules(projection = "longlat", lines = FALSE) #Add the lat/lon axes
?ne_countries
library("ggplot2")
library("sf")
library("rnaturalearth")
world <- ne_countries(scale = "medium", returnclass = "sf")
class(world)
world_points<- st_centroid(world)
library(tmap)
tmap_mode("plot") # Change the view mode to 'plot' rather than 'view'
asia = world[world$subregion == "Western Asia", ]
africa = world[world$continent == "Africa", ]
north.africa = world[world$subregion == "Northern Africa", ]
middle_east <- rbind(asia, africa)
Israel = world[world$name_long == "Israel", ]
plot(st_geometry(Israel), expandBB = c(5, 3, 2, 3), col = "green3", lwd = 1) +
plot(middle_east[0], add = TRUE)
tm_shape(middle_east) + #Load the coastline shape element
tm_polygons(tm_fill = "Israel") +
tm_compass(type = "8star", position = c("left", "top"), size = 2) + # Add a compass rose
#tm_scale_bar(breaks = c(0, 1000, 2000), text.size = 5, position = c(0.4, 0.02)) + # Add a scale bar
tm_graticules(projection = "longlat", lines = FALSE) #Add the lat/lon axes
world <- ne_countries(scale = "medium", returnclass = "sf")
class(world)
world_points<- st_centroid(world)
world_points <- cbind(world, st_coordinates(st_centroid(world$geometry)))
redsea_countries<-world_points[world_points$name %in% c("Israel", "Egypt", "Saudi Arabia", "Jordan","Sudan","Eritrea", "Yemen", "Djibouti"), ]
ggplot(data = world) +
geom_sf(color = "black", fill = "antiquewhite2") +
xlab("Longitude") + ylab("Latitude") +
coord_sf(xlim = c(20, 60), ylim = c(0, 35), expand = FALSE) +
geom_text(data= redsea_countries,aes(x=X, y=Y, label=name), color = "black", fontface = "bold", check_overlap = FALSE,size = 4) +
annotate(geom = "text", x = 37.8, y = 22, label = "Red Sea", angle = -60, fontface = 4, color = "grey22", size = 4) +
annotate(geom = "text", x = 54, y = 5, label = "Indian Ocean", fontface = 4, color = "grey22", size = 3.7) +
theme(panel.grid.major = element_blank(), panel.background = element_rect(fill = "steelblue1")) +
geom_point(x = 34.9, y = 29.45, shape=21,fill = "red", size = 3) + theme(axis.text = element_text(colour = "black")) +
theme(axis.ticks.length=unit(.2,"cm")) + theme(panel.background = element_rect(colour = "black", size=1)) +
annotation_north_arrow(which_north = "true",style = north_arrow_nautical, location = "br") +
annotation_scale(location = "br", width_hint = 0.5, )
library("rnaturalearthdata")
ggplot(data = world) +
geom_sf(color = "black", fill = "antiquewhite2") +
xlab("Longitude") + ylab("Latitude") +
coord_sf(xlim = c(20, 60), ylim = c(0, 35), expand = FALSE) +
geom_text(data= redsea_countries,aes(x=X, y=Y, label=name), color = "black", fontface = "bold", check_overlap = FALSE,size = 4) +
annotate(geom = "text", x = 37.8, y = 22, label = "Red Sea", angle = -60, fontface = 4, color = "grey22", size = 4) +
annotate(geom = "text", x = 54, y = 5, label = "Indian Ocean", fontface = 4, color = "grey22", size = 3.7) +
theme(panel.grid.major = element_blank(), panel.background = element_rect(fill = "steelblue1")) +
geom_point(x = 34.9, y = 29.45, shape=21,fill = "red", size = 3) + theme(axis.text = element_text(colour = "black")) +
theme(axis.ticks.length=unit(.2,"cm")) + theme(panel.background = element_rect(colour = "black", size=1)) +
annotation_north_arrow(which_north = "true",style = north_arrow_nautical, location = "br") +
annotation_scale(location = "br", width_hint = 0.5, )
library("ggspatial")
ggplot(data = world) +
geom_sf(color = "black", fill = "antiquewhite2") +
xlab("Longitude") + ylab("Latitude") +
coord_sf(xlim = c(20, 60), ylim = c(0, 35), expand = FALSE) +
geom_text(data= redsea_countries,aes(x=X, y=Y, label=name), color = "black", fontface = "bold", check_overlap = FALSE,size = 4) +
annotate(geom = "text", x = 37.8, y = 22, label = "Red Sea", angle = -60, fontface = 4, color = "grey22", size = 4) +
annotate(geom = "text", x = 54, y = 5, label = "Indian Ocean", fontface = 4, color = "grey22", size = 3.7) +
theme(panel.grid.major = element_blank(), panel.background = element_rect(fill = "steelblue1")) +
geom_point(x = 34.9, y = 29.45, shape=21,fill = "red", size = 3) + theme(axis.text = element_text(colour = "black")) +
theme(axis.ticks.length=unit(.2,"cm")) + theme(panel.background = element_rect(colour = "black", size=1)) +
annotation_north_arrow(which_north = "true",style = north_arrow_nautical, location = "br") +
annotation_scale(location = "br", width_hint = 0.5, )
library(tmap)
tmap_mode("plot") # Change the view mode to 'plot' rather than 'view'
asia = world[world$subregion == "Western Asia", ]
africa = world[world$continent == "Africa", ]
north.africa = world[world$subregion == "Northern Africa", ]
middle_east <- rbind(asia, africa)
Israel = world[world$name_long == "Israel", ]
library("sf")
world <- ne_countries(scale = "medium", returnclass = "sf")
asia = world[world$subregion == "Western Asia", ]
africa = world[world$continent == "Africa", ]
north.africa = world[world$subregion == "Northern Africa", ]
middle_east <- rbind(asia, africa)
Israel = world[world$name_long == "Israel", ]
plot(st_geometry(Israel), expandBB = c(5, 3, 2, 3), col = "green3", lwd = 1) +
plot(middle_east[0], add = TRUE)
tm_shape(middle_east) + #Load the coastline shape element
tm_polygons(tm_fill = "Israel") +
tm_compass(type = "8star", position = c("left", "top"), size = 2) + # Add a compass rose
#tm_scale_bar(breaks = c(0, 1000, 2000), text.size = 5, position = c(0.4, 0.02)) + # Add a scale bar
tm_graticules(projection = "longlat", lines = FALSE) #Add the lat/lon axes
library("ggspatial")
ggplot(data = world) +
geom_sf(color = "black", fill = "antiquewhite2") +
xlab("Longitude") + ylab("Latitude") +
coord_sf(xlim = c(20, 60), ylim = c(0, 35), expand = FALSE) +
geom_text(data= redsea_countries,aes(x=X, y=Y, label=name), color = "black", fontface = "bold", check_overlap = FALSE,size = 4) +
annotate(geom = "text", x = 37.8, y = 22, label = "Red Sea", angle = -60, fontface = 4, color = "grey22", size = 4) +
annotate(geom = "text", x = 54, y = 5, label = "Indian Ocean", fontface = 4, color = "grey22", size = 3.7) +
theme(panel.grid.major = element_blank(), panel.background = element_rect(fill = "steelblue1")) +
geom_point(x = 34.9, y = 29.45, shape=21,fill = "red", size = 3) + theme(axis.text = element_text(colour = "black")) +
theme(axis.ticks.length=unit(.2,"cm")) + theme(panel.background = element_rect(colour = "black", size=1)) +
annotation_north_arrow(which_north = "true",style = north_arrow_nautical, location = "br") +
annotation_scale(location = "br", width_hint = 0.5, )
world <- ne_countries(scale = "medium", returnclass = "sf")
class(world)
world_points<- st_centroid(world)
world_points <- cbind(world, st_coordinates(st_centroid(world$geometry)))
redsea_countries<-world_points[world_points$name %in% c("Israel", "Egypt", "Saudi Arabia", "Jordan","Sudan","Eritrea", "Yemen", "Djibouti"), ]
ggplot(data = world) +
geom_sf(color = "black", fill = "antiquewhite2") +
xlab("Longitude") + ylab("Latitude") +
coord_sf(xlim = c(20, 60), ylim = c(0, 35), expand = FALSE) +
geom_text(data= redsea_countries,aes(x=X, y=Y, label=name), color = "black", fontface = "bold", check_overlap = FALSE,size = 4) +
annotate(geom = "text", x = 37.8, y = 22, label = "Red Sea", angle = -60, fontface = 4, color = "grey22", size = 4) +
annotate(geom = "text", x = 54, y = 5, label = "Indian Ocean", fontface = 4, color = "grey22", size = 3.7) +
theme(panel.grid.major = element_blank(), panel.background = element_rect(fill = "steelblue1")) +
geom_point(x = 34.9, y = 29.45, shape=21,fill = "red", size = 3) + theme(axis.text = element_text(colour = "black")) +
theme(axis.ticks.length=unit(.2,"cm")) + theme(panel.background = element_rect(colour = "black", size=1)) +
annotation_north_arrow(which_north = "true",style = north_arrow_nautical, location = "br") +
annotation_scale(location = "br", width_hint = 0.5, )
Settlement_analysis_new <- read.csv("~/Documents/UQ Files/Palau II/Experiment 1/Settlement experiment/Settlement_analysis_new.csv")
View(Settlement_analysis_new)
Normal_settlement<-subset(Settlement_analysis_new, Tank_treatment=="Regular")
View(Normal_settlement)
library(MASS)
NB_model<-glm.nb(Settlers ~ Plot_treatment*Tile_treatment*Microhabitat, data=Normal_settlement)
Pois_model<-glm(Settlers ~ Plot_treatment*Tile_treatment*Microhabitat, data=Normal_settlement, family=poisson)
NB_model<-glm.nb(Settlers ~ Plot_treatment*Tile_treatment*Microhabitat, data=Normal_settlement)
ZF_model<-glmmadmb(Settlers ~ Plot_treatment*Tile_treatment*Microhabitat, data=Normal_settlement, zeroInflation = TRUE)
library(glmmADMB)
1 - pchisq(summary(NB_model)$deviance,
summary(NB_model)$df.residual) # GOF is < 0.05 therefore not a good NB model fit. Try poisson.
1 - pchisq(summary(Pois_model)$deviance,
summary(Pois_model)$df.residual) #Even worse... Ultimately NB looks much better.
summary(NB_model) #### Settlement model used for paper.
Anova(NB_model)
library(car)
Anova(NB_model)
Settlement_analysis_cm2 <- read.csv("~/Documents/UQ Files/Palau II/Experiment 1/Settlement experiment/Settlement_analysis_cm2.csv")
View(Settlement_analysis_cm2)
Normal_settlement<-subset(Settlement_analysis_cm2, Tank_treatment=="Regular")
View(Normal_settlement)
NB_model<-glm.nb(Settlers ~ Plot_treatment*Tile_treatment*Microhabitat, data=Normal_settlement)
1 - pchisq(summary(NB_model)$deviance,
summary(NB_model)$df.residual) # GOF is < 0.05 therefore not a good NB model fit. Try poisson.
summary(NB_model) #### Settlement model used for paper.
Anova(NB_model)
Pois_model<-glm(Settlers ~ Plot_treatment*Tile_treatment*Microhabitat, data=Normal_settlement, family=poisson)
1 - pchisq(summary(Pois_model)$deviance,
summary(Pois_model)$df.residual) #Even worse... Ultimately NB looks much better.
View(Settlement_analysis_cm2)
Settlement_analysis_cm2 <- read.csv("~/Documents/UQ Files/Palau II/Experiment 1/Settlement experiment/Settlement_analysis_cm2.csv")
View(Settlement_analysis_cm2)
Normal_settlement<-subset(Settlement_analysis_cm2, Tank_treatment=="Regular")
NB_model<-glm.nb(Settlers ~ Plot_treatment*Tile_treatment*Microhabitat, data=Normal_settlement)
1 - pchisq(summary(NB_model)$deviance,
summary(NB_model)$df.residual) # GOF is < 0.05 therefore not a good NB model fit. Try poisson.
summary(NB_model) #### Settlement model used for paper.
Anova(NB_model)
Settlement_analysis_cm2 <- read.csv("~/Documents/UQ Files/Palau II/Experiment 1/Settlement experiment/Settlement_analysis_cm2.csv")
View(Settlement_analysis_cm2)
Normal_settlement<-subset(Settlement_analysis_cm2, Tank_treatment=="Regular")
View(Normal_settlement)
NB_model<-glm.nb(Settlers ~ Plot_treatment*Tile_treatment*Microhabitat, data=Normal_settlement)
warnings()
install.packages("gamlss")
# new model running by cm2
library(lme4)
NB_model<-glmer.nb(Settlers ~ Plot_treatment*Tile_treatment*Microhabitat, data=Normal_settlement)
NB_model<-glm.nb(Settlers ~ Plot_treatment*Tile_treatment*Microhabitat, data=Normal_settlement)
?family
library(gamlss)
NB_model<-gamlss(Settlers ~ Plot_treatment*Tile_treatment*Microhabitat, family= NBI, data=Normal_settlement)
summary(NB_model) #### Settlement model used for paper.
Anova(NB_model)
NB_model<-gamlss(Settlers ~ Plot_treatment*Tile_treatment*Microhabitat, family= LO, data=Normal_settlement)
summary(NB_model) #### Settlement model used for paper.
Anova(NB_model)
NB_model<-gamlss(Settlers ~ Plot_treatment*Tile_treatment*Microhabitat, family= GA, data=Normal_settlement)
summary(NB_model) #### Settlement model used for paper.
NB_model<-gamlss(Settlers ~ Plot_treatment*Tile_treatment*Microhabitat, family= GA, data=Normal_settlement)
NB_model<-aov(Settlers ~ Plot_treatment*Tile_treatment*Microhabitat, data=Normal_settlement)
summary(NB_model) #### Settlement model used for paper.
NB_model<-aov(Settlers ~ Plot_treatment*Tile_treatment+ Tile_treatment*Microhabitat + Plot_treatment*Microhabitat, data=Normal_settlement)
summary(NB_model) #### Settlement model used for paper.
NB_model<-aov(Settlers ~ Plot_treatment*Tile_treatment+ Tile_treatment*Microhabitat, data=Normal_settlement)
summary(NB_model) #### Settlement model used for paper.
NB_model<-aov(Settlers ~ Tile_treatment*Microhabitat, data=Normal_settlement)
#compare model fits
library(DHARMa)
diagnose <- simulateResiduals(fittedModel=NB_model, n=250)
diagnose$scaledResiduals # residuals stored in here
# Plot scaled Residuals
plot(diagnose) # ok
drop1(New_mod)
New_mod<-aov(Settlers ~ Plot_treatment*Tile_treatment*Microhabitat, data=Normal_settlement)
drop1(New_mod)
summary(New_mod) #### Settlement model used for paper.
plot(New_mod)
drop1(New_mod)
drop1(New_mod, test="F")
drop1(New_mod, test="Chisq")
New_mod<-glm(Settlers ~ Plot_treatment*Tile_treatment*Microhabitat, data=Normal_settlement)
plot(New_mod)
summary(New_mod) #### Settlement model used for paper.
drop1(New_mod, test="Chisq")
Anova(New_mod)
drop1(New_mod, test="Chisq")
New_mod2<-glm(Settlers ~ Plot_treatment*Tile_treatment + Microhabitat*Tile_treatment + Tile_treatment*Microhabitat, data=Normal_settlement)
summary(New_mod2) #### Settlement model used for paper.
Anova(New_mod)
Anova(New_mod2)
drop1(New_mod2, test="Chisq")
New_mod2<-glm(Settlers ~ Microhabitat*Tile_treatment + Tile_treatment*Microhabitat, data=Normal_settlement)
summary(New_mod2) #### Settlement model used for paper.
Anova(New_mod2)
New_mod2<-glm(Settlers ~ Plot_treatment*Tile_treatment + Plot_treatment*Microhabitat + Tile_treatment*Microhabitat, data=Normal_settlement)
summary(New_mod2) #### Settlement model used for paper.
Anova(New_mod2)
Anova(New_mod2)
drop1(New_mod2, test="Chisq")
New_mod2<-glm(Settlers ~ Tile_treatment*Microhabitat, data=Normal_settlement)
summary(New_mod2) #### Settlement model used for paper.
Anova(New_mod2)
drop1(New_mod2, test="Chisq")
New_mod2<-glm(Settlers ~ Tile_treatment*Microhabitat + Plot_treatment, data=Normal_settlement)
summary(New_mod2) #### Settlement model used for paper.
Anova(New_mod2)
emmeans(New_mod2, pairwise ~ Microhabitat| Tile_treatment)
library(emmeans)
emmeans(New_mod2, pairwise ~ Microhabitat| Tile_treatment)
emmeans(New_mod2, pairwise ~ Tile_treatment | Microhabitat)
summary_data <- ddply(Normal_settlement, c("Tile_treatment"), summarise, N= length(proportion), mean = mean(proportion),
sd   = sd(proportion),
se   = sd / sqrt(N))
summary_data
library(dplyr)
summary_data <- ddply(Normal_settlement, c("Tile_treatment"), summarise, N= length(proportion), mean = mean(proportion),
sd   = sd(proportion),
se   = sd / sqrt(N))
library(plyr)
summary_data <- ddply(Normal_settlement, c("Tile_treatment"), summarise, N= length(proportion), mean = mean(proportion),
sd   = sd(proportion),
se   = sd / sqrt(N))
summary_data
View(Normal_settlement)
summary_data <- ddply(Normal_settlement, c("Tile_treatment"), summarise, N= length(Settlers), mean = mean(Settlers),
sd   = sd(Settlers),
se   = sd / sqrt(N))
summary_data
summary_data <- ddply(Normal_settlement, c("Tile_treatment","Microhabitat"), summarise, N= length(Settlers), mean = mean(Settlers),
sd   = sd(Settlers),
se   = sd / sqrt(N))
summary_data
summary_data <- ddply(Normal_settlement, c("Microhabitat"), summarise, N= length(Settlers), mean = mean(Settlers),
sd   = sd(Settlers),
se   = sd / sqrt(N))
summary_data
emmeans(New_mod2, pairwise ~ Tile_treatment | Microhabitat)
emmeans(New_mod2, pairwise ~ Microhabitat | Tile_treatment)
summary_data <- ddply(Normal_settlement, c("Tile_treatment","Microhabitat"), summarise, N= length(Settlers), mean = mean(Settlers),
sd   = sd(Settlers),
se   = sd / sqrt(N))
summary_data
emmeans(New_mod2, pairwise ~ Tile_treatment | Microhabitat)
emmeans(New_mod2, pairwise ~ Microhabitat | Tile_treatment)
emmeans(New_mod2, pairwise ~ Tile_treatment | Microhabitat)
summary_data <- ddply(Normal_settlement, c("Tile_treatment","Microhabitat"), summarise, N= length(Settlers), mean = mean(Settlers),
sd   = sd(Settlers),
se   = sd / sqrt(N))
summary_data
emmeans(New_mod2, pairwise ~ Tile_treatment | Microhabitat)
emmeans(New_mod2, pairwise ~ Microhabitat | Tile_treatment)
emmeans(New_mod2, pairwise ~ Tile_treatment | Microhabitat)
emmeans(New_mod2, pairwise ~ Tile_treatment * Microhabitat)
setwd("~/Documents/ODU_Post-doc/Writing/CBASS vs. RSS - physiology manuscript /Github_CBASS-vs-RSS-Physiology/Figures/Figure 1")
#bind and merge data
RSS1<-read.csv("RSS1.csv")
RSS1$Date<-as.POSIXct(RSS1$Date, format="%Y-%m-%d %H:%M:%S")
RSS2<-read.csv("RSS2.csv")
RSS2$Date<-as.POSIXct(RSS2$Date, format="%Y-%m-%d %H:%M:%S")
RSS_main<-rbind(RSS1, RSS2)
library(openair)
RSS_main$Date<-as.POSIXct(RSS_main$Date)
names(RSS_main)[names(RSS_main) == "Date"] <- "date"
levels(RSS_main$Tank)[levels(RSS_main$Tank)=="AQUA_125_TEMP_PV"] <- "34.5A"
levels(RSS_main$Tank)[levels(RSS_main$Tank)=="AQUA_126_TEMP_PV"] <- "34.5B"
levels(RSS_main$Tank)[levels(RSS_main$Tank)=="AQUA_127_TEMP_PV"] <- "32A"
levels(RSS_main$Tank)[levels(RSS_main$Tank)=="AQUA_128_TEMP_PV"] <- "32B"
levels(RSS_main$Tank)[levels(RSS_main$Tank)=="AQUA_225_TEMPERATURE_2"] <- "29.5A"
levels(RSS_main$Tank)[levels(RSS_main$Tank)=="AQUA_226_TEMPERATURE_2"] <- "29.5B"
levels(RSS_main$Tank)[levels(RSS_main$Tank)=="AQUA_227_TEMPERATURE_2"] <- "27A"
levels(RSS_main$Tank)[levels(RSS_main$Tank)=="AQUA_228_TEMPERATURE_2"] <- "27B"
#Convert to hourly ave
#Convert to hourly average temperatures for plotting
RSS_av<-timeAverage(RSS_main, avg.time = "hour", type = "Tank")
#select dates of the experiment within the dataframe and remove NAs
RSS_cut<-selectByDate(RSS_av, start = "2019-01-20", end = "2019-02-03")
RSS_cut <- na.omit(RSS_cut)
#Calculate means during hold - separate calculation for 34.5°C tanks due to shorter hold period
RSS_hold<-selectByDate(RSS_main, start = "2019-01-24", end = "2019-01-29")
means <- aggregate(Temp ~ Tank, data = RSS_hold, FUN = mean)
View(means)
RSS_summary_data <- ddply(RSS_hold, c("Tank"), summarise, N= length(Temp), mean = mean(Temp),
sd   = sd(Temp),
se   = sd / sqrt(N))
library(plyr)
RSS_summary_data <- ddply(RSS_hold, c("Tank"), summarise, N= length(Temp), mean = mean(Temp),
sd   = sd(Temp),
se   = sd / sqrt(N))
View(RSS_summary_data)
RSS_34_summary_data <- ddply(RSS_hold_34, c("Tank"), summarise, N= length(Temp), mean = mean(Temp),
sd   = sd(Temp),
se   = sd / sqrt(N))
RSS_hold_34<-selectByDate(RSS_main, start = "2019-01-24", end = "2019-01-25")
RSS_34_summary_data <- ddply(RSS_hold_34, c("Tank"), summarise, N= length(Temp), mean = mean(Temp),
sd   = sd(Temp),
se   = sd / sqrt(N))
View(RSS_34_summary_data)
View(RSS_hold)
View(RSS_summary_data)
boing1<-read.csv("CBASS1.txt")
boing1$time<-strptime(paste(boing1$Date,paste(boing1$Th,boing1$Tm,boing1$Ts,sep=":"),sep=" "),format="%Y_%B_%d %H:%M:%S")
boing1<-boing1[order(boing1$time),]
boing1<-subset(boing1, select=c(24,8,12,16,20))
boing2<-read.csv("CBASS2.txt")
boing2$time<-strptime(paste(boing2$Date,paste(boing2$Th,boing2$Tm,boing2$Ts,sep=":"),sep=" "),format="%Y_%B_%d %H:%M:%S")
boing2<-boing2[order(boing2$time),]
boing2<-subset(boing2, select=c(24,8,12,16,20))
library(plyr)
boing1<-rename(boing1, c("T1inT"="27A", "T2inT"="29.5A", "T3inT"="32A", "T4inT"="34.5A"))
boing2<-rename(boing2, c("T1inT"="27B", "T2inT"="29.5B", "T3inT"="32B", "T4inT"="34.5B"))
library(reshape2)
boing1$time<-as.POSIXct(boing1$time)
boing1.1<-melt(boing1, id.vars=c("time"))
boing2$time<-as.POSIXct(boing2$time)
boing2.1<-melt(boing2, id.vars=c("time"))
spoing<-merge(boing1, boing2, all=T)
CBASS_full <- melt(spoing, id="time")
names(CBASS_full)[names(CBASS_full) == "time"] <- "date"
names(CBASS_full)[names(CBASS_full) == "variable"] <- "Tank"
names(CBASS_full)[names(CBASS_full) == "value"] <- "Temp"
library(openair)
CBASS_full$date<-as.POSIXct(CBASS_full$date)
#Select for experimental period within larger file, average data to 15-min intervals for plotting
CBASS_full <- na.omit(CBASS_full)
CBASS_av<-timeAverage(CBASS_full, avg.time = "15 min", type = "Tank")
CBASS_hold<-selectByDate(CBASS_full, start = "2019-01-27", end = "2019-01-27",hour = 16:18)
CBASS_summary_data <- ddply(CBASS_hold, c("Tank"), summarise, N= length(Temp), mean = mean(Temp),
sd   = sd(Temp),
se   = sd / sqrt(N))
View(CBASS_summary_data)
